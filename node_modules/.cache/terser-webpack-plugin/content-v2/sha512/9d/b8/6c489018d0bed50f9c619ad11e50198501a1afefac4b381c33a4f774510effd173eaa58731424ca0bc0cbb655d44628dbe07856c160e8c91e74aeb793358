{"code":"(()=>{\"use strict\";function t(t,n,e,c,a,o,i){try{var r=t[o](i),s=r.value}catch(t){return void e(t)}r.done?n(s):Promise.resolve(s).then(c,a)}function n(n){return function(){var e=this,c=arguments;return new Promise((function(a,o){var i=n.apply(e,c);function r(n){t(i,a,o,r,s,\"next\",n)}function s(n){t(i,a,o,r,s,\"throw\",n)}r(void 0)}))}}var e,c=\"client\",a=0,o=\"POST\",i=[];function r(t){history.pushState(null,null,t)}function s(t){for(var n=window.location.search.substring(1).split(\"&\"),e=0;e<n.length;e++){var c=n[e].split(\"=\");if(c[0]==t)return c[1]}return!1}function d(){fetch(\"https://5db82951177b350014ac76e3.mockapi.io/products\").then((function(t){return t.json()})).then((function(t){console.log(t),clientProducts.innerHTML=\"\",adminProducts.innerHTML=\"\";var n=!0,e=!1,c=void 0;try{for(var a,o=t[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var i=a.value;i.available?(clientProducts.innerHTML+='\\n          <div class=\"card\">\\n            <div>\\n              <img class=\"prod-img\" src=\"'.concat(i.img,'\">\\n              <h2>').concat(i.name,'</h2>\\n              <p class=\"c-desc\">').concat(i.desc,'</p>\\n            </div>\\n            <div>\\n              <div class=\"priceTag\">').concat(i.price,'$</div>\\n              <button type=\"button\" class=\"add-to-cart\" onclick=\"addItemToCart(`').concat(JSON.stringify(i).replace(/\"/g,\"-br-br-br\"),'`);\">Add to Cart</button>\\n            </div>\\n          </div>\\n        '),adminProducts.innerHTML+='\\n          <div class=\"card admin-card\">\\n            <div>\\n              <img class=\"prod-img\" src=\"'.concat(i.img,'\">\\n              <h2>').concat(i.name,'</h2>\\n              <p class=\"c-desc\">').concat(i.desc,'</p>\\n            </div>\\n            <div>\\n              <div class=\"priceTag\">').concat(i.price,'$</div>\\n              <div class=\"admin-bttns\">\\n                <button type=\"button\" class=\"edit-bttn\" onclick=\"\\n                    update_url(\\'?page=admin&&form=shown\\');\\n                    productToEditID = ').concat(i.id,\";\\n                    form_method = 'PUT';\\n                    console.log(form_method);\\n                    document.getElementById('form').classList.add('show-form');\\n                    codeInput.value = \").concat(i.code,\";\\n                    nameInput.value = '\").concat(i.name,\"';\\n                    priceInput.value = \").concat(i.price,\";\\n                    checkbox.checked = \").concat(i.available,\";\\n                    imgInput.value = '\").concat(i.img,\"';\\n                    descInput.value = `\").concat(i.desc.replace(/<br>/g,\"\\n\"),'`;\\n                  \">EDIT</button>\\n                <button type=\"button\" class=\"delete-bttn\" onclick=\"deleteProduct(').concat(i.id,', this);\">DELETE</button>\\n              </div>\\n            </div>\\n          </div>\\n        ')):adminProducts.innerHTML+='\\n          <div class=\"card admin-card\">\\n            <div>\\n              <img class=\"prod-img\" src=\"'.concat(i.img,'\">\\n              <h2>').concat(i.name,'</h2>\\n              <p class=\"c-desc\">').concat(i.desc,'</p>\\n            </div>\\n            <div>\\n              <div class=\"priceTag\">').concat(i.price,'$</div>\\n              <div class=\"not-available\">Not Available</div>\\n              <div class=\"admin-bttns\">\\n                <button type=\"button\" class=\"edit-bttn\" onclick=\"\\n                    update_url(\\'?page=admin&&form=shown\\');\\n                    productToEditID = ').concat(i.id,\";\\n                    form_method = 'PUT';\\n                    console.log(form_method);\\n                    document.getElementById('form').classList.add('show-form');\\n                    codeInput.value = \").concat(i.code,\";\\n                    nameInput.value = '\").concat(i.name,\"';\\n                    priceInput.value = \").concat(i.price,\";\\n                    checkbox.checked = \").concat(i.available,\";\\n                    imgInput.value = '\").concat(i.img,\"';\\n                    descInput.value = `\").concat(i.desc.replace(/<br>/g,\"\\n\"),'`;\\n                  \">EDIT</button>\\n                <button type=\"button\" class=\"delete-bttn\" onclick=\"deleteProduct(').concat(i.id,', this);\">DELETE</button>\\n              </div>\\n            </div>\\n          </div>\\n        ')}}catch(t){e=!0,c=t}finally{try{n||null==o.return||o.return()}finally{if(e)throw c}}s(\"form\")||form.classList.remove(\"show-form\"),s(\"cart\")||cartPage.classList.remove(\"show-form\")}))}function l(t,n){fetch(\"https://5db82951177b350014ac76e3.mockapi.io/products/\".concat(t),{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(n)}).then((function(t){return 200==t.status?(r(\"/?page=admin\"),d(),v(\"Successfully edited the product!\",\"#34a853\")):v(\"Could not edit the product!\",\"#ff5019\"),t.json()}))}function u(){adminBttn.classList.add(\"selected\"),clientBttn.classList.remove(\"selected\"),adminPage.classList.remove(\"hide\"),clientPage.classList.add(\"hide\")}function m(){clientBttn.classList.add(\"selected\"),adminBttn.classList.remove(\"selected\"),adminPage.classList.add(\"hide\"),clientPage.classList.remove(\"hide\")}function p(){s(\"page\")||s(\"form\")?\"client\"==s(\"page\")&&\"shown\"==s(\"cart\")?(c=\"client\",cartPage.classList.add(\"show-form\"),form.classList.remove(\"show-form\"),m()):\"client\"==s(\"page\")?(c=\"client\",form.classList.remove(\"show-form\"),cartPage.classList.remove(\"show-form\"),m()):\"admin\"==s(\"page\")&&\"shown\"==s(\"form\")?(c=\"admin\",u(),form.classList.add(\"show-form\"),cartPage.classList.remove(\"show-form\")):\"admin\"==s(\"page\")&&(c=\"admin\",form.classList.remove(\"show-form\"),cartPage.classList.remove(\"show-form\"),u()):(c=\"client\",form.classList.remove(\"show-form\"),cartPage.classList.remove(\"show-form\"),m())}function v(t,n){clearTimeout(e),app_message.innerHTML=t,app_message.setAttribute(\"style\",\"background:\".concat(n,\";transform:translateX(0);\")),e=setTimeout((function(){app_message.style.transform=\"translateX(-100vw)\"}),5e3)}window.onload=function(){if(p(),d(),localStorage.getItem(\"cart-items\")){i=JSON.parse(localStorage.getItem(\"cart-items\")),cartProducts.innerHTML=\"\";var t=!0,n=!1,e=void 0;try{for(var c,o=i[Symbol.iterator]();!(t=(c=o.next()).done);t=!0){var r=c.value;a+=parseInt(r.price,10),cartProducts.innerHTML+='\\n        <div class=\"card\">\\n          <div>\\n            <img class=\"prod-img\" src=\"'.concat(r.img,'\">\\n            <h2>').concat(r.name,'</h2>\\n            <p class=\"c-desc\">').concat(r.desc,'</p>\\n          </div>\\n          <div>\\n            <div class=\"priceTag\">').concat(r.price,'$</div>\\n            <button type=\"button\" class=\"remove-from-cart\" onclick=\"removeItemFromCart(`').concat(JSON.stringify(r).replace(/\"/g,\"-br-br-br\"),'`, this);\">Remove</button>\\n          </div>\\n        </div>\\n      ')}}catch(t){n=!0,e=t}finally{try{t||null==o.return||o.return()}finally{if(n)throw e}}priceCart.innerText=\"\".concat(a,\"$\"),total.innerText=\"Total: \".concat(a,\"$\")}},window.onpopstate=function(){p()},acBttn.onclick=function(){\"client\"==c?(c=\"admin\",r(\"/?page=admin\"),u()):\"admin\"==c&&(c=\"client\",r(\"/?page=client\"),m()),form.classList.remove(\"show-form\"),cartPage.classList.remove(\"show-form\")},addItem.onclick=function(){r(\"/?page=admin&&form=shown\"),form.classList.add(\"show-form\"),o=\"POST\"},closeFormBttn.onclick=function(){r(\"/?page=admin\"),form.classList.remove(\"show-form\")},closeCartBttn.onclick=function(){cartPage.classList.remove(\"show-form\"),r(\"/?page=client\")},cart.onclick=function(){cartPage.classList.add(\"show-form\"),r(\"/?page=client&&cart=shown\")},submitBttn.onclick=n(regeneratorRuntime.mark((function t(){var n,e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=!0,0==codeInput.value.length||0==nameInput.value.length||0==priceInput.value.length||0==imgInput.value.length||0==descInput.value.length?(n=!1,v(\"ERROR! All the text inputs must be filled out!\",\"#ff5019\"),submitBttn.type=\"submit\"):submitBttn.type=\"button\",\"POST\"!=o){t.next=5;break}return t.next=5,fetch(\"https://5db82951177b350014ac76e3.mockapi.io/products\").then((function(t){return t.json()})).then((function(t){clientProducts.innerHTML=\"\",adminProducts.innerHTML=\"\",codeInput.setCustomValidity(\"\");var e=!0,c=!1,a=void 0;try{for(var o,i=t[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var r=o.value;codeInput.value==r.code&&(v(\"ERROR! Code '\".concat(codeInput.value,\"' already exists!\"),\"#ff5019\"),n=!1)}}catch(t){c=!0,a=t}finally{try{e||null==i.return||i.return()}finally{if(c)throw a}}}));case 5:e=!!checkbox.checked,\"POST\"==o&&n?(c={code:codeInput.value,name:nameInput.value,price:priceInput.value,available:e,img:imgInput.value,desc:descInput.value.replace(/\\n/g,\"<br>\")},fetch(\"https://5db82951177b350014ac76e3.mockapi.io/products\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(c)}).then((function(t){201==t.status?(form.classList.remove(\"show-form\"),r(\"/?page=admin\"),d(),v(\"Successfully added the product!\",\"#34a853\")):v(\"Could not add the product!\",\"#ff5019\")}))):\"PUT\"==o&&n&&l(void 0,{code:codeInput.value,name:nameInput.value,price:priceInput.value,available:e,img:imgInput.value,desc:descInput.value.replace(/\\n/g,\"<br>\")});case 7:case\"end\":return t.stop()}var c}),t)})))})();","extractedComments":[]}